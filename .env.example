# ============================================
# Hyperclaw Environment Variables
# ============================================

# Privy (auth)
NEXT_PUBLIC_PRIVY_APP_ID=your_privy_app_id_here
NEXT_PUBLIC_PRIVY_CLIENT_ID= # optional

# Web Push (notifications)
WEB_PUSH_EMAIL=user@example.com
WEB_PUSH_PRIVATE_KEY=your_vapid_private_key
NEXT_PUBLIC_WEB_PUSH_PUBLIC_KEY=your_vapid_public_key

# Hyperliquid (operator wallet â€” funds agent wallets via usdSend)
HYPERLIQUID_PRIVATE_KEY=your_operator_private_key_hex
NEXT_PUBLIC_HYPERLIQUID_TESTNET=false  # set to "true" for testnet trading

# Hyperliquid Builder Codes (earn fees on trades)
NEXT_PUBLIC_BUILDER_ADDRESS=your_builder_wallet_address  # Address that receives builder fees
NEXT_PUBLIC_BUILDER_FEE=10  # Builder fee in tenths of basis points (10 = 1bp = 0.1%)

# Deposit relay fee (basis points, 100 = 1%, mainnet only)
RELAY_FEE_BPS=100

# Mainnet relay pricing allowlist for ERC20 deposits (comma-separated, lowercase)
# Required on mainnet if vault accepts ERC20 deposits.
# Example: RELAY_STABLE_TOKENS=0xabc...,0xdef...
RELAY_STABLE_TOKENS=

# Mainnet bridge relay (Hyperunit + deBridge)
# Enables bridge-based HL wallet funding/withdrawal for mainnet deposit relay.
MAINNET_BRIDGE_ENABLED=false
# Optional: try deBridge before Hyperunit
MAINNET_BRIDGE_PREFER_DEBRIDGE=false

# Hyperunit API settings
HYPERUNIT_API_URL=https://api.hyperunit.xyz
HYPERUNIT_MONAD_CHAIN=monad
HYPERUNIT_HYPERLIQUID_CHAIN=hyperliquid
HYPERUNIT_DEPOSIT_ASSET=mon
HYPERUNIT_WITHDRAW_ASSET=usdc

# Relay execution wallet on Monad for bridge submissions
# Falls back to MONAD_PRIVATE_KEY if unset.
# RELAY_MONAD_PRIVATE_KEY=0x...

# deBridge DLN fallback / quote settings (optional but recommended)
DEBRIDGE_API_URL=https://dln.debridge.finance
# DEBRIDGE_API_KEY=your_debridge_api_key
# Chain/token IDs are protocol-level IDs from deBridge chain registry.
# DEBRIDGE_MONAD_CHAIN_ID=
# DEBRIDGE_HYPERLIQUID_CHAIN_ID=
# DEBRIDGE_MONAD_TOKEN_IN=
# DEBRIDGE_HYPERLIQUID_TOKEN_OUT=
# DEBRIDGE_SLIPPAGE=1
# DEBRIDGE_PREPEND_OPERATING_EXPENSE=true
# DEBRIDGE_AFFILIATE_FEE_PERCENT=0

# Production safety: keep runtime network switching disabled by default
ALLOW_RUNTIME_NETWORK_SWITCH=false

# AI (agent brain)
OPENAI_API_KEY=your_openai_api_key
GEMINI_API_KEY=your_google_ai_studio_api_key
NVIDIA_API_KEY=your_nvidia_api_key
# Ordered fallback chain (provider:model). Tries each model in order.
AI_MODEL_CHAIN=gemini:gemini-2.5-flash,nvidia:moonshotai/kimi-k2.5,gemini:gemini-3-flash-preview,nvidia:nvidia/llama-3.1-nemotron-ultra-253b-v1,gemini:gemini-2.5-flash-lite,openai:gpt-4o
# Optional provider-specific model lists (used when AI_MODEL_CHAIN is not set)
OPENAI_MODELS=gpt-4o
GEMINI_MODELS=gemini-2.5-flash,gemini-3-flash-preview,gemini-2.5-flash-lite,gemma-3-27b-it,gemma-3-12b-it,gemma-3-4b-it,gemma-3-2b-it,gemma-3-1b-it
NVIDIA_MODELS=moonshotai/kimi-k2.5,nvidia/llama-3.1-nemotron-ultra-253b-v1
# Start falling back before hard limits (0.5 - 0.99)
AI_NEAR_LIMIT_THRESHOLD=0.85
# UTC hot hours for frequent AI decisions (supports ranges, e.g. 12-21,23-2)
AGENT_AI_HOT_HOURS_UTC=12-21
# AI decision cadence: hot hours (default ~1m) vs off-hours (default 30m)
AGENT_AI_HOT_HOURS_DECISION_MIN_INTERVAL_MS=60000
AGENT_AI_OFF_HOURS_DECISION_MIN_INTERVAL_MS=1800000
AGENT_TICK_INTERVAL=60000  # agent runner tick interval in ms (default: 60s)
# Testnet execution mode: bypass skip gates so active testnet agents keep trading
TESTNET_FORCE_CONTINUOUS_EXECUTION=true
TESTNET_MIN_CONFIDENCE_OVERRIDE=0
TESTNET_MIN_ORDER_NOTIONAL_USD=1

# Telegram Bot (notifications + vault chat rooms)
TELEGRAM_BOT_TOKEN=your_telegram_bot_token  # from @BotFather
# Optional explicit public webhook URL (full path)
# TELEGRAM_WEBHOOK_URL=https://your-app.up.railway.app/api/telegram/webhook
# Optional secret validated by Telegram and sent as X-Telegram-Bot-Api-Secret-Token
# TELEGRAM_WEBHOOK_SECRET=your_random_secret
# Optional app base URL (used to build webhook URL when TELEGRAM_WEBHOOK_URL is unset)
# PUBLIC_BASE_URL=https://your-app.up.railway.app

# Account encryption (for stored agent private keys - traditional mode only)
ACCOUNT_ENCRYPTION_KEY=your_random_encryption_secret

# ============================================
# Lit Protocol v8 (Naga) - Secure PKP Key Management
# ============================================

# Enable Lit Protocol PKP for agent wallets (recommended for production)
# When true, new agents get PKP wallets instead of traditional encrypted keys
USE_LIT_PKP=false

# Lit Protocol network (v8 Naga):
# - "naga-dev" (free dev network, no persistence guarantees)
# - "naga-test" (paid testnet with Ledger)
# - "naga" (mainnet)
LIT_NETWORK=naga-dev

# Pinata API credentials for deploying Lit Actions to IPFS (optional)
# Get keys at https://pinata.cloud
# PINATA_API_KEY=your_pinata_api_key
# PINATA_API_SECRET=your_pinata_api_secret

# Chronicle Yellowstone (Lit's chain) - for reference
# Chain ID: 175188
# RPC URL: https://yellowstone-rpc.litprotocol.com/
# Currency: tstLPX

# Monad Vault Contract
NEXT_PUBLIC_VAULT_ADDRESS=your_deployed_vault_contract_address
MONAD_PRIVATE_KEY=your_monad_deployer_private_key
NEXT_PUBLIC_MONAD_TESTNET=true  # set to "false" for mainnet
# RPC URLs (optional overrides; defaults used if unset)
MONAD_MAINNET_RPC_URL=https://rpc.monad.xyz
# Monad mainnet chain ID: 143 (0x8f)
MONAD_MAINNET_CHAIN_ID=143
HYPERLIQUID_MAINNET_RPC_URL=https://hyperliquid.drpc.org
# Hyperliquid mainnet chain ID: 999 (0x3e7)
HYPERLIQUID_MAINNET_CHAIN_ID=999

# $HCLAW Token
NEXT_PUBLIC_HCLAW_TOKEN_ADDRESS=0x640aE5523bAb907552829686eD031E06cE667777
NEXT_PUBLIC_HCLAW_LOCK_ADDRESS=your_hclaw_lock_contract_address
NEXT_PUBLIC_HCLAW_POLICY_ADDRESS=your_hclaw_policy_contract_address
NEXT_PUBLIC_HCLAW_REWARDS_ADDRESS=your_hclaw_rewards_contract_address
NEXT_PUBLIC_AGENTIC_LP_VAULT_ADDRESS=your_agentic_lp_vault_contract_address

# HCLAW weekly points and treasury routing
HCLAW_EPOCH_DURATION_DAYS=7
HCLAW_BUYBACK_SPLIT_BPS=4000
HCLAW_INCENTIVE_SPLIT_BPS=4000
HCLAW_RESERVE_SPLIT_BPS=2000
HCLAW_POINTS_CLOSE_KEY=your_hclaw_epoch_close_key

# Phala CVM (confidential agent/orchestrator)
PHALA_API_KEY=your_phala_api_key_from_cloud_phala_network
PHALA_CVM_ID=your_cvm_vm_uuid
PHALA_APP_ID=your_app_id

# ============================================
# Unibase AIP Platform (A2A Agent Protocol)
# ============================================

# AIP Platform endpoint (mainnet or testnet)
AIP_ENDPOINT=http://api.aip.unibase.com

# Gateway endpoint (routes agent invocations)
GATEWAY_URL=http://gateway.aip.unibase.com

# Your agent's publicly accessible URL (required for DIRECT mode)
# For POLLING mode (private agents), leave this commented out
# AGENT_PUBLIC_URL=https://your-domain.com/api/unibase

# Membase account (wallet address for X402 payments and memory)
# Use test account for development: 0x5ea13664c5ce67753f208540d25b913788aa3daa
MEMBASE_ACCOUNT=your_wallet_address_for_aip_payments

# Deployment mode: "DIRECT" (public endpoint) or "POLLING" (private/firewall)
AIP_DEPLOYMENT_MODE=POLLING

# ============================================
# Production Deployment (Vercel + EC2)
# ============================================

# Shared store (required for Vercel - serverless has no persistent filesystem)
# AWS_S3_BUCKET=your-bucket-name
# (Can also be an S3 access point alias, e.g. xxx-s3alias)
# AWS_REGION=eu-north-1
# AWS_ACCESS_KEY_ID=...
# AWS_SECRET_ACCESS_KEY=...

# Supabase Postgres store (recommended for concurrent + long-term history)
# Hybrid mode: keep core state in Supabase, high-volume trade logs in S3.
# Set both SUPABASE_* and AWS_* to enable hybrid.
# SUPABASE_URL=https://your-project-ref.supabase.co
# SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
# Optional: trade archive prefix in bucket/access-point
# TRADE_ARCHIVE_PREFIX=hyperclaw/trades

# IronClaw assistant (optional - run ironclaw as sidecar, then set URL)
# For AWS deployment: postgres + ironclaw + caddy from ~/ironclaw-aws
# Security group: allow 80/tcp, 443/tcp. Webhook accepts requests with IRONCLAW_WEBHOOK_SECRET.
# Production: IRONCLAW_WEBHOOK_URL should be a public HTTPS endpoint.
# Dev-only sidecar: http://127.0.0.1:8080/webhook
# IRONCLAW_WEBHOOK_URL=https://your-ironclaw-domain/webhook
# Optional fallback candidate used when primary URL is stale/unreachable:
# IRONCLAW_WEBHOOK_FALLBACK_URL=https://your-ironclaw-domain/webhook
# IRONCLAW_WEBHOOK_SECRET=your-webhook-secret  # must match HTTP_WEBHOOK_SECRET in IronClaw

# Orchestrator auth (EC2 agent-orchestrator calls tick endpoints)
# Generate: openssl rand -hex 32
# ORCHESTRATOR_SECRET=your-shared-secret-for-ec2-orchestrator

# API auth (protects trade, fund, accounts, and MCP endpoints)
# Generate: openssl rand -hex 32
# HYPERCLAW_API_KEY=your-api-key-for-sensitive-routes
# MCP_API_KEY=optional-dedicated-key-for-ironclaw-mcp-if-different

# ============================================
# IronClaw Sidecar Production Defaults
# ============================================

# Keep runtime network switching disabled in production
# ALLOW_RUNTIME_NETWORK_SWITCH=false

# IronClaw secrets encryption key (required for MCP OAuth/static-header auth storage)
# Generate: openssl rand -hex 32
# SECRETS_MASTER_KEY=your-64-hex-master-key

# Webhook shared secret pair (set both for IronClaw sidecar usage)
# HTTP_WEBHOOK_SECRET=your-ironclaw-http-webhook-secret
# IRONCLAW_WEBHOOK_SECRET=same-value-as-http-webhook-secret
